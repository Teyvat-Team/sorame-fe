import * as React from 'react';
import styled from '@emotion/styled';
import { css } from '@emotion/react';
import useResizable from '@/hooks/useResizable';
import Resizer from '@/components/resizer';

const { useRef, useState, useEffect, useMemo } = React;

interface GraphTableViewProps {}

const LEFT_HIDDEN_SIZE = 64;

const Container = styled.section`
  max-height: calc(100vh - 48px);
  height: calc(100vh - 48px);
  overflow-y: hidden;
`;

const ResizeWrapper = styled.section`
  position: relative;
  height: 100%;
  display: flex;
  flex-direction: row;
`;

const AnalyzerSection = styled.section``;

const ViewSection = styled.section``;

const INIT_LEFT_SIZE = 222;

const GraphTableView: React.FC<GraphTableViewProps> = (
  props: GraphTableViewProps
) => {
  const {} = props;

  const { size: resizableSize, handler: sizeHandler } = useResizable({
    size: INIT_LEFT_SIZE,
    maxSize: 300,
    direction: 'right',
  }) as {
    size: number;
    handler: (event: React.MouseEvent | React.TouchEvent) => void;
  };

  return (
    <Container>
      <ResizeWrapper>
        {resizableSize > LEFT_HIDDEN_SIZE && (
          <AnalyzerSection
            style={{
              width: resizableSize,
            }}
          >
            <section style={{ height: '100%', overflow: 'auto' }}>
              分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板分析面板
            </section>
          </AnalyzerSection>
        )}
        <Resizer onMouseDown={sizeHandler} onTouchStart={sizeHandler}></Resizer>
        <ViewSection
          style={{
            width:
              resizableSize > LEFT_HIDDEN_SIZE
                ? `calc(100% - ${resizableSize}px)`
                : '100%',
          }}
        >
          视图
        </ViewSection>
      </ResizeWrapper>
    </Container>
  );
};

export default GraphTableView;
